var x=(l,r,o)=>{if(!r.has(l))throw TypeError("Cannot "+o)};var C=(l,r,o)=>{if(r.has(l))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(l):r.set(l,o)};var E=(l,r,o)=>(x(l,r,"access private method"),o);import{B as T}from"./base.js";import{S as w}from"./keyboard.js";var g,B;class N extends T{constructor(){super();C(this,g)}_init(){super._init(),E(this,g,B).call(this)}_onPageChanged(){super._onPageChanged()}}g=new WeakSet,B=function(){if(document.querySelector(".text-swiper-hero")==null||document.querySelector(".image-swiper-hero")==null)return;const o=2500,m=2e3,P=400,n=new w(".text-swiper-hero",{slidesPerView:1,spaceBetween:40,loop:!0,speed:m,allowTouchMove:!1,navigation:!1,autoplay:{delay:o+P,disableOnInteraction:!1}}),f=new w(".image-swiper-hero",{slidesPerView:1,spaceBetween:0,loop:!0,speed:m,allowTouchMove:!1,navigation:!1});n.controller.control=f,f.controller.control=n,n.shouldChangeState=!1;let y=!0,i=!0;const I=document.querySelector(".swiper-index-wrapper-hero");if(I===null)return;const c=I.querySelector(".number-container-hero"),h=c.querySelector(".current"),S=c.querySelector(".next");f.on("init",function(){this.slides.length}),f.on("slideChange",function(){const t=this.realIndex+1,e=parseInt(h.textContent)||1;if(v(t,e),i===!0){const s=document.getElementById("circle");s.style.transition="stroke-dashoffset 0s linear",u(0),setTimeout(()=>{s.style.transition=`stroke-dashoffset ${y?o:o+m}ms linear`,u(100),y=!1},50)}});function v(t,e){if(t===e)return;const s=t>e?"up":"down";h.textContent=e,S.textContent=t,c.style.transition="none",c.style.transform="translateY(0)",requestAnimationFrame(()=>{c.style.transition="transform 0.5s ease",c.style.transform=s==="up"?"translateY(-50%)":"translateY(50%)"}),setTimeout(()=>{h.textContent=t,c.style.transition="none",c.style.transform="translateY(0)"},500)}f.init(),n.on("slideChangeTransitionEnd",function(t){if(t.shouldChangeState===!0){let e=0;y===!0?e=o+m:e=o;const s=document.getElementById("circle");if(i===!1){const p=(100-d())/100*e;s.style.transition=`stroke-dashoffset ${p}ms linear`,u(100),n.autoplay.resume()}else{n.autoplay.pause();let a=d();s.style.transition="stroke-dashoffset 0s linear",u(a)}n.shouldChangeState=!1,i=!i}});function u(t){const e=document.getElementById("circle"),s=e.r.baseVal.value,a=2*Math.PI*s,p=a-t/100*a;e.style.strokeDasharray=`${a} ${a}`,e.style.strokeDashoffset=p}function d(){const t=document.getElementById("circle"),e=t.r.baseVal.value,s=2*Math.PI*e,a=parseFloat(getComputedStyle(t).strokeDashoffset);return(s-a)/s*100}document.getElementById("circle-container").addEventListener("click",function(){n.shouldChangeState=!0;const t=document.getElementById("play-image");if(i===!1?(t.classList.remove("icon-play"),t.classList.add("icon-pause")):(t.classList.remove("icon-pause"),t.classList.add("icon-play")),n.animating===!1){if(n.shouldChangeState===!0){let e=0;y===!0?e=o+m:e=o;const s=document.getElementById("circle");if(i===!1){const p=(100-d())/100*e;s.style.transition=`stroke-dashoffset ${p}ms linear`,u(100),n.autoplay.resume()}else{n.autoplay.pause();let a=d();s.style.transition="stroke-dashoffset 0s linear",u(a)}n.shouldChangeState=!1}i=!i}});const L=document.getElementById("next-button"),k=document.getElementById("prev-button");L.addEventListener("click",()=>{n.autoplay.pause(),i=!1,n.slideNext();const t=document.getElementById("circle");let e=d();t.style.transition="stroke-dashoffset 0s linear",u(e);const s=document.getElementById("play-image");s.classList.remove("icon-pause"),s.classList.add("icon-play")}),k.addEventListener("click",()=>{n.autoplay.pause(),i=!1,n.slidePrev();const t=document.getElementById("circle");let e=d();t.style.transition="stroke-dashoffset 0s linear",u(e);const s=document.getElementById("play-image");s.classList.remove("icon-pause"),s.classList.add("icon-play")}),document.getElementById("swiper-index"),n.slides.length};export{N as H};

var k=(l,a,i)=>{if(!a.has(l))throw TypeError("Cannot "+i)};var C=(l,a,i)=>{if(a.has(l))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(l):a.set(l,i)};var E=(l,a,i)=>(k(l,a,"access private method"),i);import{B as x}from"./base.js";import{S as w}from"./keyboard.js";var g,B;class N extends x{constructor(){super();C(this,g)}_init(){super._init(),E(this,g,B).call(this)}_onPageChanged(){super._onPageChanged()}}g=new WeakSet,B=function(){if(document.querySelector(".text-swiper-timer")==null||document.querySelector(".image-swiper-timer")==null)return;const i=2500,d=2e3,P=400,n=new w(".text-swiper-timer",{slidesPerView:1,spaceBetween:40,loop:!0,speed:d,allowTouchMove:!1,navigation:!1,autoplay:{delay:i+P,disableOnInteraction:!1}}),f=new w(".image-swiper-timer",{slidesPerView:1,spaceBetween:0,loop:!0,speed:d,allowTouchMove:!1,navigation:!1});n.controller.control=f,f.controller.control=n,n.shouldChangeState=!1;let y=!0,r=!0;const I=document.querySelector(".swiper-index-wrapper-timer");if(I===null)return;const c=I.querySelector(".number-container-timer"),h=c.querySelector(".current"),S=c.querySelector(".next");f.on("init",function(){this.slides.length}),f.on("slideChange",function(){const t=this.realIndex+1,e=parseInt(h.textContent)||1;if(v(t,e),r===!0){const s=document.getElementById("circle-timer");s.style.transition="stroke-dashoffset 0s linear",u(0),setTimeout(()=>{s.style.transition=`stroke-dashoffset ${y?i:i+d}ms linear`,u(100),y=!1},50)}});function v(t,e){if(t===e)return;const s=t>e?"up":"down";h.textContent=e,S.textContent=t,c.style.transition="none",c.style.transform="translateY(0)",requestAnimationFrame(()=>{c.style.transition="transform 0.5s ease",c.style.transform=s==="up"?"translateY(-50%)":"translateY(50%)"}),setTimeout(()=>{h.textContent=t,c.style.transition="none",c.style.transform="translateY(0)"},500)}f.init(),n.on("slideChangeTransitionEnd",function(t){if(t.shouldChangeState===!0){let e=0;y===!0?e=i+d:e=i;const s=document.getElementById("circle-timer");if(r===!1){const p=(100-m())/100*e;s.style.transition=`stroke-dashoffset ${p}ms linear`,u(100),n.autoplay.resume()}else{n.autoplay.pause();let o=m();s.style.transition="stroke-dashoffset 0s linear",u(o)}n.shouldChangeState=!1,r=!r}});function u(t){const e=document.getElementById("circle-timer"),s=e.r.baseVal.value,o=2*Math.PI*s,p=o-t/100*o;e.style.strokeDasharray=`${o} ${o}`,e.style.strokeDashoffset=p}function m(){const t=document.getElementById("circle-timer"),e=t.r.baseVal.value,s=2*Math.PI*e,o=parseFloat(getComputedStyle(t).strokeDashoffset);return(s-o)/s*100}document.getElementById("circle-container-timer").addEventListener("click",function(){n.shouldChangeState=!0;const t=document.getElementById("play-image-timer");if(r===!1?(t.classList.remove("icon-play"),t.classList.add("icon-pause")):(t.classList.remove("icon-pause"),t.classList.add("icon-play")),n.animating===!1){if(n.shouldChangeState===!0){let e=0;y===!0?e=i+d:e=i;const s=document.getElementById("circle-timer");if(r===!1){const p=(100-m())/100*e;s.style.transition=`stroke-dashoffset ${p}ms linear`,u(100),n.autoplay.resume()}else{n.autoplay.pause();let o=m();s.style.transition="stroke-dashoffset 0s linear",u(o)}n.shouldChangeState=!1}r=!r}});const L=document.getElementById("next-button-timer"),T=document.getElementById("prev-button-timer");L.addEventListener("click",()=>{n.autoplay.pause(),r=!1,n.slideNext();const t=document.getElementById("circle-timer");let e=m();t.style.transition="stroke-dashoffset 0s linear",u(e);const s=document.getElementById("play-image-timer");s.classList.remove("icon-pause"),s.classList.add("icon-play")}),T.addEventListener("click",()=>{n.autoplay.pause(),r=!1,n.slidePrev();const t=document.getElementById("circle-timer");let e=m();t.style.transition="stroke-dashoffset 0s linear",u(e);const s=document.getElementById("play-image-timer");s.classList.remove("icon-pause"),s.classList.add("icon-play")}),document.getElementById("swiper-index"),n.slides.length};export{N as T};
